! function(u) {
    u.fn.stellarNav = function(n, r, h) {
        nav = u(this), r = u(window).width();
        var f = u.extend({
            theme: "plain",
            breakpoint: 768,
            menuLabel: "",
            sticky: !1,
            position: "static",
            openingSpeed: 250,
            closingDelay: 250,
            showArrows: !0,
            phoneBtn: "",
            locationBtn: "",
            closeBtn: !1,
            mobileMode: !1,
            scrollbarFix: !1
        }, n);
        return this.each(function() {
            if ("light" != f.theme && "dark" != f.theme || nav.addClass(f.theme), f.breakpoint && (h = f.breakpoint), f.menuLabel ? menuLabel = f.menuLabel : menuLabel = "", f.phoneBtn && f.locationBtn) var n = "third";
            else if (f.phoneBtn || f.locationBtn) n = "half";
            else n = "full";
            if ("right" == f.position || "left" == f.position ? nav.prepend('<a href="#" class="menu-toggle"><span class="bars"><span></span><span></span><span></span></span> ' + menuLabel + "</a>") : nav.prepend('<a href="#" class="menu-toggle ' + n + '"><span class="bars"><span></span><span></span><span></span></span> ' + menuLabel + "</a>"), f.phoneBtn && "right" != f.position && "left" != f.position) {
                var e = '<a href="tel:' + f.phoneBtn + '" class="call-btn-mobile ' + n + '"><svg id="icon-phone"></svg> <span>Call Us</span></a>';
                nav.find("a.menu-toggle").after(e)
            }
            if (f.locationBtn && "right" != f.position && "left" != f.position) {
                e = '<a href="' + f.locationBtn + '" class="location-btn-mobile ' + n + '" target="_blank"><svg id="icon-location"></svg> <span>Location</span></a>';
                nav.find("a.menu-toggle").after(e)
            }
            if (f.sticky && (navPos = nav.offset().top, h <= r && u(window).bind("scroll", function() {
                    u(window).scrollTop() > navPos ? nav.addClass("fixed") : nav.removeClass("fixed")
                })), "top" == f.position && nav.addClass("top"), "left" == f.position || "right" == f.position) {
                var i = '<a href="#" class="close-menu ' + n + '"><span class="icon-close"></span> Close</a>',
                    s = '<a href="tel:' + f.phoneBtn + '" class="call-btn-mobile ' + n + '"><svg id="icon-phone"></svg></a>',
                    t = '<a href="' + f.locationBtn + '" class="location-btn-mobile ' + n + '" target="_blank"><svg id="icon-location"></svg></i></a>';
                nav.find("ul:first").prepend(i), f.locationBtn && nav.find("ul:first").prepend(t), f.phoneBtn && nav.find("ul:first").prepend(s)
            }
            "right" == f.position && nav.addClass("right"), "left" == f.position && nav.addClass("left"), f.showArrows || nav.addClass("hide-arrows"), f.closeBtn && "right" != f.position && "left" != f.position && nav.find("ul:first").append('<li><a href="#" class="close-menu"><i class="fa fa-close"></i> Close Menu</a></li>'), f.scrollbarFix && u("body").addClass("stellarnav-noscroll-x");
            var a = document.getElementById("icon-phone");
            if (a) {
                a.setAttribute("viewBox", "0 0 480 480");
                var l = document.createElementNS("http://www.w3.org/2000/svg", "path");
                l.setAttribute("d", "M340.273,275.083l-53.755-53.761c-10.707-10.664-28.438-10.34-39.518,0.744l-27.082,27.076 c-1.711-0.940C3616AA41"), a.appendChild(l)
            }
            var o = document.getElementById("icon-location");
            if (o) {
                o.setAttribute("viewBox", "0 0 480 480");
                var d = document.createElementNS("http://www.w3.org/2000/svg", "path");
                d.setAttribute("d", "M322.621,42.825C294.073,14.272,259.619,0,219.268,0c-40.353,0-74.803,14.275-103.353,42.825 c-28.549,208615ABA29"), o.appendChild(d)
            }
            u(".menu-toggle, .stellarnav-open").on("click", function(n) {
                n.preventDefault(), "left" == f.position || "right" == f.position ? (nav.find("ul:first").stop(!0, !0).fadeToggle(f.openingSpeed), nav.toggleClass("active"), nav.hasClass("active") && nav.hasClass("mobile") && u(document).on("click", function(n) {
                    nav.hasClass("mobile") && (u(n.target).closest(nav).length || (nav.find("ul:first").stop(!0, !0).fadeOut(f.openingSpeed), nav.removeClass("active")))
                })) : (nav.find("ul:first").stop(!0, !0).slideToggle(f.openingSpeed), nav.toggleClass("active"))
            }), u(".close-menu, .stellarnav-close").on("click", function() {
                nav.removeClass("active"), "left" == f.position || "right" == f.position ? nav.find("ul:first").stop(!0, !0).fadeToggle(f.openingSpeed) : nav.find("ul:first").stop(!0, !0).slideUp(f.openingSpeed).toggleClass("active")
            }), nav.find("li a").each(function() {
                0 < u(this).next().length && u(this).parent("li").addClass("").append('<a class="dd-toggle" href="#"><span class="icon-plus"></span></a>')
            }), nav.find("li .dd-toggle").on("click", function(n) {
                n.preventDefault(), u(this).parent("li").children("ul").stop(!0, !0).slideToggle(f.openingSpeed), u(this).parent("li").toggleClass("open")
            });
            var c = function() {
                nav.find("li").off("mouseenter"), nav.find("li").off("mouseleave")
            };
            parentItems = nav.find("> ul > li");

            function p() {
                window.innerWidth <= h || f.mobileMode ? (c(), nav.addClass("mobile"), nav.removeClass("desktop"), !nav.hasClass("active") && nav.find("ul:first").is(":visible") && nav.find("ul:first").hide(), nav.find("li.mega").each(function() {
                    u(this).find("ul").first().removeAttr("style"), u(this).find("ul").first().children().removeAttr("style")
                })) : (nav.addClass("desktop"), nav.removeClass("mobile"), nav.hasClass("active") && nav.removeClass("active"), !nav.hasClass("active") && nav.find("ul:first").is(":hidden") && nav.find("ul:first").show(), u("li.open").removeClass("open").find("ul:visible").hide(), c(), u(parentItems).each(function() {
                    u(this).hasClass("mega") ? (u(this).on("mouseenter", function() {
                        u(this).find("ul").first().stop(!0, !0).slideDown(f.openingSpeed)
                    }), u(this).on("mouseleave", function() {
                        u(this).find("ul").first().stop(!0, !0).slideUp(f.openingSpeed)
                    })) : (u(this).on("mouseenter", function() {
                        u(this).children("ul").stop(!0, !0).slideDown(f.openingSpeed)
                    }), u(this).on("mouseleave", function() {
                        u(this).children("ul").stop(!0, !0).delay(f.closingDelay).slideUp(f.openingSpeed)
                    }), u(this).find("li").on("mouseenter", function() {
                        u(this).children("ul").stop(!0, !0).slideDown(f.openingSpeed)
                    }), u(this).find("li").on("mouseleave", function() {
                        u(this).children("ul").stop(!0, !0).delay(f.closingDelay).slideUp(f.openingSpeed)
                    }))
                }), navWidth = 0, u(parentItems).each(function() {
                    navWidth += u(this)[0].getBoundingClientRect().width, navWidth = Math.round(navWidth), u(this).hasClass("mega") && (u(this).find("ul").first().css({
                        left: 0,
                        right: 0,
                        margin: "0px auto"
                    }), numCols = u(this).attr("data-columns"), 2 == numCols ? u(this).find("li").width("50%") : 3 == numCols ? u(this).find("ul").first().children().width("33.33%") : 4 == numCols ? u(this).find("ul").first().children().width("25%") : 5 == numCols ? u(this).find("ul").first().children().width("20%") : 6 == numCols ? u(this).find("ul").first().children().width("16.66%") : 7 == numCols ? u(this).find("ul").first().children().width("14.28%") : 8 == numCols ? u(this).find("ul").first().children().width("12.5%") : u(this).find("ul").first().children().width("25%"))
                }), parentItems.hasClass("mega") && nav.find("li.mega > ul").css({
                    "max-width": navWidth
                }))
            }
            p(), u(window).on("resize", function() {
                p()
            })
        })
    }
}(jQuery);